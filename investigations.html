<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Investigations Mode - Bryneven Helper</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<!-- Shared header will be loaded here -->
<div id="header-container"></div>

<div class="chat-container investigations-section" id="investigations-section">
    <main id="chat-area">
        <div class="message bot"><p>Hi there! 👋 I'm the Bryneven Primary School Helper! ...</p></div>
        <div class="message user"><p>Thank you!</p></div>
    </main>
    
    <!-- Dynamic area for investigation content -->
    <div id="dynamic-area" class="flex flex-wrap justify-center gap-3 my-4">
        <!-- Investigation options will be rendered here by JS -->
    </div>
    
    <!-- User-friendly action bar for investigations section -->
    <div id="investigations-action-bar" style="display:none;" class="flex items-center justify-center my-4 gap-6">
        <input id="investigations-action-input" type="text" class="hidden" />
        <button id="investigations-action-hint" class="investigations-action-btn small-action-btn" title="Get a hint">💡 Hint</button>
        <button id="investigations-action-explain" class="investigations-action-btn small-action-btn" title="Get an explanation">❓ Explain</button>
        <button id="investigations-action-skip" class="investigations-action-btn small-action-btn" title="Skip question">⏭️ Skip</button>
    </div>
    
    <div class="input-area">
        <textarea id="user-input" placeholder="Type your question here..." rows="1"></textarea>
        <button id="send-button"><i class="fas fa-paper-plane"></i></button>
    </div>
    <footer>
        Powered by Gemini | © 2023 Bryneven Primary School
    </footer>
</div>
<img src="logo.png" alt="School Logo" class="logo">

<script>
// Dynamically load the shared header
fetch('public/header.html')
  .then(res => res.text())
  .then(html => {
    document.getElementById('header-container').innerHTML = html;
    // Center align header items after load
    setTimeout(() => {
      const headerFlex = document.querySelector('#header-container header .flex');
      if (headerFlex) headerFlex.style.justifyContent = 'center';
      const headerTitle = headerFlex?.querySelector('h1');
      if (headerTitle) headerTitle.style.textAlign = 'center';
    }, 300);
  });
</script>
<script src="investigations.js" type="module"></script>
</body>
</html>
